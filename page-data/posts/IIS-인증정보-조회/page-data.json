{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/IIS-인증정보-조회/","result":{"data":{"markdownRemark":{"id":"fba18425-dccc-59b3-a8d4-fddd083d79b4","html":"<h2 id=\"iis-인증-정보-조회\"><a href=\"#iis-%EC%9D%B8%EC%A6%9D-%EC%A0%95%EB%B3%B4-%EC%A1%B0%ED%9A%8C\" aria-label=\"iis 인증 정보 조회 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>IIS 인증 정보 조회</h2>\n<p>IIS에 인증 정보는 web.config에 남지가 않고 다른 파일에 남깁니다.(applicationHost.config)\n이 파일을 조회해서 IIS에 구성한 사이트와 웹 애플리케이션들의 인증 정보들을 정리하는 스크립트를 작성합니다.</p>\n<p>각 인증객체의 enabled가 TRUE, FALSE로 설정이 되어 있으면 그 설정을 따르고, 설정이 없으면 부모의 설정을 받습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"powershell\"><pre class=\"language-powershell\"><code class=\"language-powershell\"><span class=\"token variable\">$apphostConfigPath</span> = <span class=\"token string\">\"C:\\Windows\\System32\\inetsrv\\config\\applicationHost.config\"</span>\n<span class=\"token namespace\">[xml]</span><span class=\"token variable\">$xml</span> = <span class=\"token function\">Get-Content</span> <span class=\"token variable\">$apphostConfigPath</span>\n<span class=\"token variable\">$rootSiteName</span> = <span class=\"token string\">\"루트 사이트 이름\"</span>\n\n<span class=\"token variable\">$target</span> = <span class=\"token variable\">$xml</span><span class=\"token punctuation\">.</span>configuration<span class=\"token punctuation\">.</span>location <span class=\"token punctuation\">|</span> where <span class=\"token punctuation\">{</span><span class=\"token variable\">$_</span><span class=\"token punctuation\">.</span>Path <span class=\"token operator\">-like</span> <span class=\"token string\">\"<span class=\"token variable\">$rootSiteName</span>*\"</span> <span class=\"token punctuation\">}</span>\n<span class=\"token variable\">$return</span> = @<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token variable\">$target</span> <span class=\"token punctuation\">|</span> <span class=\"token keyword\">foreach</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token variable\">$authentication</span> = <span class=\"token variable\">$_</span><span class=\"token punctuation\">.</span><span class=\"token string\">\"system.webServer\"</span><span class=\"token punctuation\">.</span>security<span class=\"token punctuation\">.</span>authentication\n    <span class=\"token variable\">$element</span> = <span class=\"token function\">new-Object</span> PSObject <span class=\"token operator\">-</span>Property @<span class=\"token punctuation\">{</span>\n        path = <span class=\"token variable\">$_</span><span class=\"token punctuation\">.</span>path\n        anonymous = <span class=\"token variable\">$authentication</span><span class=\"token punctuation\">.</span>AnonymousAuthentication<span class=\"token punctuation\">.</span>enabled\n        basic = <span class=\"token variable\">$authentication</span><span class=\"token punctuation\">.</span>BasicAuthentication<span class=\"token punctuation\">.</span>enabled\n        windows = <span class=\"token variable\">$authentication</span><span class=\"token punctuation\">.</span>WindowsAuthentication<span class=\"token punctuation\">.</span>enabled\n        digest = <span class=\"token variable\">$authentication</span><span class=\"token punctuation\">.</span>digestAuthentication<span class=\"token punctuation\">.</span>enabled\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token comment\"># AnonymousAuthentication - 익명 인증</span>\n    <span class=\"token comment\"># BasicAuthentication - 기본 인증</span>\n    <span class=\"token comment\"># WindowsAuthentication - 윈도우 인증</span>\n    <span class=\"token comment\"># digestAuthentication - 다이제스트 인증</span>\n    <span class=\"token variable\">$return</span> <span class=\"token operator\">+=</span> <span class=\"token variable\">$element</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token variable\">$return</span> <span class=\"token punctuation\">|</span> <span class=\"token function\">Export-Csv</span> result_file<span class=\"token punctuation\">.</span>csv <span class=\"token operator\">-</span>Encoding UTF8</code></pre></div>","fields":{"slug":"/posts/IIS-인증정보-조회/","tagSlugs":["/tag/iis/","/tag/config/"]},"frontmatter":{"date":"2016-10-25T00:00:00.000Z","description":"IIS에서 설정한 인증정보 전체를 조회 (파일, 경로, 사이트 단위 모두)","tags":["IIS","Config"],"title":"IIS 인증정보 전체 조회","socialImage":null}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/posts/IIS-인증정보-조회/"}}}